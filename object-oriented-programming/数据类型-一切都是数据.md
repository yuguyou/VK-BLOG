# JavaScript面向对象编程（OOP）
## OOP常用概念
### 对象
* 《JavScript: The Definitive Guide (javascript 权威指南)》
  - 对象是一种复合值，将很多值（或其他对象）聚合到一起，可通过名字访问这些值，对象也可以看做是属性的无序集和，每个属性都是一个名/值对。
* 《Object-Oriented Javascript(JavaScript面向对象编程指南)》
  -  所谓对象，实质上就是指“事物”在程序设计中的表现形式，这里的“事物”可以是任何东西（如客观存在的、某些抽象的概念）。比如猫这个对象，它具有某些特征（颜色、名字、重量）就是这个对象的属性，能执行某些动作（叫，跑、跳）就是这个对象的方法。

### 类
* 在现实中，相似对象都存在一些共同的特征，比如麻雀和老鹰都有鸟类的特征，所以它们被统称为鸟类。类可以看做是一种设计模板，对象就是在这些模板基础上被创建出来的实例（对象有时候也是类的实例）。比如老鹰就是鸟类的一个实例。
* JavaScript实际没有类，该语言一切都基于对象，依靠的是一套原型系统，是基于原型的面向对象语言。
### 封装
### 重用、继承
### 多态

## 数据类型
  - 一般语言用栈储存原始类型，用堆储存引用类型，javascript使用一个变量对象追踪变量的生存期。(《Object-Oriented Javascript》)
  - 有种“原始类型值存在栈内存中，引用类型值存在堆中”的说法，对于js仅仅可以这么理解，实际是不是这样不清楚。
  - JavaScript基本数据类型分为两种：
    - 原始类型（基本数据类型）：原始值被直接保存在变量对象内
    - 引用类型（非基本数据类型）：引用值作为一个指针(内存位置)保存在变量对象内，本质为指向内存位置的引用
  - typeof 查看数据类型 ;; typeof 10;  // number
### 原始类型
* 原始类型数据保存的是简单数据值。原始类型的变量直接保存原始值，而不是一个指向对象的指针（每个包含原始值的变量使用自己的储存空间，一个变量改变不会影响到其它变量）。所以原始值赋值给一个变量时，该值将被复制到变量中。
* javascript的五种原始类型
  1. boolean    布尔 值为true / false
  2. number     数字
      - Infinity(大于1e308) 表示最大数比最大数还大的数
      - NaN(Not a Number) 值叫做“不是数字”，不恰当的操作导致计算事败的返回值
  3. string     字符串
  4. undefine   未定义
      - 仅有一个值：undefined
      - javascript会自动将变量在初始化之前的值设置为undefined
      - javascript访问一个不存在的变量时，会得到一个特殊值：undefined
  5. null  空类型
      - 仅有一个值： null
      - 被赋予null的变量通常被认为是已经定义了的，通常指没有值或空值，不代表任何东西的对象
      - typeof null = object
          - 判断一个值是否是空类型需要直接与null做非强制转换比较（===）
          - 逻辑可以理解为null 是一个空的对象指针
          - typeof null的结果为object 已被设计和维护JavaScript的委员会TC39认定是一个错误
      - javascript具有自动垃圾回收机制，一旦数据不再使用，可以将其设为"null"来释放引用。

### 引用类型
  - 所有引用类型都继承自Object
  1. 引用类型数据保存为引用值(对象)，本质是指向内存位置的引用。引用值作为一个指针保存在变量对象内，指针指向对象在内存中的储存位置，赋值给变量时实际为拷贝指针
  2. 引用值是引用类型的实例，为对象的同义词，对象代指引用值(对象为类的实例)
  3. 创建对象
      - 使用new+构造函数，一般用首字母大写为构造函数与非构造函数的区分
      - 解除对象引用与垃圾回收：当对象不再引用后，垃圾回收器将对内存释放。解除对象引用最佳的方法是将对象变量置为null
  4. 內建引用类型
      內建引用类型可在任何时候被实例化  可用 new xxxxx; 实例化每个內建类型
        - Array
        - Date
        - Error
        - Function
        - Object
        - RegExp 正则
  5. 引用类型的字面形式
      1. 字面形式允许在不需要使用new操作符号和构造函数显示创建对象的情况下生成引用值
      2. 对象和数组的字面形式
        - 大括号使用字面形式创建对象 // {a: xxx, b: xxx}
        - javascript使用字面形式创建对象背后作工作与和new Object()一样,其他引用类型的字面形式也是一样
      3. 基本上定义函数、正则表达式都是用的字面形式来定义
  6. 引用类型鉴别方法
      instanceof 操作符鉴别继承类型 ;; xxx instanceof Array;

  #### 原始封装类型（特殊的引用类型）
  - 3种原始封装类型
    1. String
    2. Number
    3. Boolean
  - 当读取字符串、数字、布尔值时，javascript引擎将自动创建一个临时的原始封装类型对象来使用，当读取完后该零时对象立刻被销毁。instenceof、typeof并没有真正读取任何东西所以不会创建原始封装类型对象。
  ```
    执行下列语句时
    var name="Nicholas";
    var firstChar = name.charAt(0);
    执行背后将被转为如下过程
    var name="Nicholas";
    var temp = new String(name);
    var firstChar = temp.charAt(0);
    temp = null;
  ```

